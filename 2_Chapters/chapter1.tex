\section{Basics of graph theory}

\begin{defn}[Graph]
    A graph \(\GGG=(V,E)\) is a consists of 
    \begin{enumerate}
      \item \(V \neq \emptyset\) and
      \item \(E \ssq \cub{e\ssq V \fil \abs{e}=2}\)
    \end{enumerate}
    We call elements of $V$ vertices or nodes and elements of \(E\) edges or bonds. We write $v\sim u$ if \((u,v)\in E\). We further define 
    \begin{enumerate}
      \item degree of a vertex is the number of edges incident to the vertex.
      \item a locally finite graph is a graph where all degrees are finite.
      \item a regular graph is a graph for which all degrees are equal.
    \end{enumerate}
    
\end{defn}


\begin{remark}[Further definitions of graphs]
  \begin{enumerate}
    \item A graph \(\GGG=(V,E)\) where $E$ consists of ordered pairs is called ordered directed graph.
    \item There are definitions of graphs that allow multiple edges $\cub{a,b}$ and self-loops.
  \end{enumerate}  
\end{remark}


\begin{defn}[Product of graphs]
    Let $\GGG_1, \GGG_2$ be graphs. We define  
    \[\GGG_1 \boxtimes \GGG_2:= (V_1\times V_2, \cub{((x_1,y_1),(x_2,y_2))\fil \trm{either }(x_1=x_2 ,\,(y_1,y_2)\in E_2) \trm{ or } (y_1=y_2,\,(x_1,x_2)\in E_1)})\]
    as the product of $\GGG_1$ and \(\GGG_2\).
\end{defn}



\begin{defn}[Path]
  Let $\GGG$ be a graph. A path is a (possibly infinite) sequence of vertices $v_1,v_2,\dots$ such that $(v_n,v_{n+1})\in E$. 
  \begin{enumerate}
    \item If a path does not visit any vertex more thatn once, it is called a vertex simple path.
    \item If a path does not visit any edge more than once, it is called an edge simple path.
  \end{enumerate}
  
\end{defn}


\begin{defn}[Network]
  A network is a graph $G$ combined with a funciton $c:E\to [0,\infty)$. It will be convenient to extend $c$ to be a function from the set of all pairs in $V$ such that $c(v,u)\equiv 0$ if $(v,u)\notin E$. We call a network connected if $(V, \cub{e\fil c(e)>0})$ is connected. A network is locally finite if for any \(v\in V\), we have \(\sum_{w\neq v}c(v,w)<\infty\).  
\end{defn}


\begin{lem}[Example]
  $V=\ZZ, E= \cub{(v,u) \fil u\neq v\in V}$ with $c(v,u)=\frac{1}{\abs{u-v}^2}$.
\end{lem}


\begin{defn}[Cycle]
  A cycle is a path starting and ending in the same point. A cycle is simple if the only vertex appearing more than once is the first (and last) vertex.
\end{defn}


\begin{defn}[Induced graphs and networks]
  Let $G=(V,E)$ be a graph and let \(K\ssq V\). The induced graph is the graph \(G_K=(K, \cub{e\in E \fil e \ssq K})\). The induced network is defined similarly. 
\end{defn}

\begin{defn}[Connected component]
    Let $G$ be a graph a graph or a network. A connected component is a set $K$ of vertices such that $G_K$ is connected, but for every $K\subsetneq H $, $G_H$ is not connected.
\end{defn}

\begin{defn}[Contraction of graphs]
  Let $G=(V,E,c)$ be a graph (or network) and let $K\ssq G$. The connected graph (or network) $G/K$ is the graph $(V\setminus \cup \cub{z}, \cub{e \in E \fil e \ssq V\setminus K} \cup \cub{(v,z) \fil v \notin K, \exists u \in K: (v,u) \in E})$. For all $u,v \notin K$, take conductance \(c'(v,u) = c(v,u)\) for $v\notin K$ take $c(v,u)=\sum_{u\in K} c(v,u)$.
\end{defn}


\begin{defn}[Forest and tree]
    A forest is a graph with no (simple) cycles. A tree is a connected forest.
\end{defn}


\begin{remark}
    A contraction of an edge lets it "disappear" in a sense that the vertices are merged.
\end{remark}


\begin{defn}[Homomorphisms]
    Let $G_1,G_2$ be graphs. A function \(\phi: V_1 \to V_2\) is called a homomorphism if 
    \begin{enumerate}
      \item for all $(u,v) \in E_1$, we have that \((\phi(u), \phi(v)) \in E_2\)
    \end{enumerate}
    $\phi$ is called isomorphism if \(\phi\) is bijective, and both $\phi,\phi^{-1}$ are homomorphisms. $G_1,G_2$ are called isomorphic if such an isomorphism exists. An isomorphism $\phi$ is called an automorphism if $G_1=G_2$.
\end{defn}

\begin{defn}[Transitivity]
    A graph $G=(V,E)$ is called (vertex) transitive if for all \(v,u\in V\) there is an automorhpism \(\phi\) such that \(\phi(v)=u\). $G$ is called edge transitive if for every $e_1,e_2 \in E$ there is an automorphism $\phi(e_1)=e_2$.
\end{defn}

\begin{remark}
    There are graphs that are vertex transitive but not edge transitive.
\end{remark}

\begin{remark}
  Good source of example for transitive graphs: Let $G$ be a graph, and let $Y \ssq G\setminus\cub{\trm{unit}}$. Take the graph $V=G$ and $(u,v) \in E$ if there is $y\in Y$ such that $u=yv$ or $v=yu$.
\end{remark}


\subsection{Random walks on networks}

\begin{defn}[Simple rnadom walk on networks]
Let $G=(V,E,c)$ be a network and assume that $G$ is locally finite. The simple random walk on $G$ is the (discrete time) Markov chain with transition matrix
\[\Pi(x,y) = \frac{c(x,y)}{\sum_z c(x,z)} \cdot \ONE\left[\sum_z c(x,z) >0\right] + 1 \cdot \ONE\left[\sum_z c(x,z)=0\right] \]
A random walk on a locally finite graph $G=(V,E)$ is a random walk on the network $(V,E,1)$.
\end{defn}


\begin{remark}
    Question: Does \(\ZZ^d\) have a transient subgraph?\\
    Answer: No, every subgraph of a recurrent graph is recurrent. \\ 
    The main tool to provide the proof for the answer is based on the connection between the random walk and electrical networks.
\end{remark}


\begin{lem}
  Let $G=(V,E,c)$ be a finite connected network. For every $x\in V$, let \(p^x\) be the distribution of the random walk on $G$ started on $x$. Let $a,z \in V$. Let $\tau_a$ ($\tau_z$) be the first time hitting $a$ ($z$), and let $\tau_{a,z}$ be first time hitting either of them. Then, $\tau_a,\tau_z,\tau_{a,z}< \infty$.
\end{lem}

\begin{fact}
  Let $G=(V,E,c)$ be a finite connected network. We consider the simple random walk defined as above. Then, every state $x$ is recurrent. We have $\PP_x(\tau_a < \infty)= \mathbb{P}_x(\tau_z<\infty)=1$.
\end{fact}
\begin{proof}
  For every $x$, let $\gamma_x$ be a path from $x$ to $a$. Let $h_x$ be the probability that the random walk takes the path $\gamma_x$ immediately starting in $x$. Let $h= \min_{x\in V}h_x>0$. Let $\mathcal{F}_n ) = \sigma(X_1, \dots, X_N), \, \mathcal{F}=\sigma(X_1, X_2, \dots)$. Then, $\set*{\tau_a < \infty } \in \FFF$. By Kolmogorov's 0-1-law, $\mathbb{P}_x \setround*{\tau_a<\infty ; \FFF} \in \set*{0,1 }$. We have \(\mathbb{P}_x \setround*{\tau_a < \infty  ; \mathcal{F}} = \lim_{n \to \infty} \mathbb{P}_x \setround*{\tau_a < \infty ; \mathcal{F}_n}\). We have \(\mathbb{P}_x \setround*{\tau_a < \infty ;\mathcal{F}_n} \geq h \). Thus, \(\mathbb{P}_x \setround*{\tau_a <\infty  ;\mathcal{F}}\geq h\). It follows from the 0-1-law, $\mathbb{P}_x \setround*{ \tau_a < \infty ;\mathcal{F}}=1$ and thus \(\mathbb{P}_x(\tau_a < \infty) = \mathbb{E} \left[\mathbb{P}_x \setround*{\tau_a <\infty; \mathcal{F}}\right]\). 
\end{proof}



\begin{defn}[Voltage function]
  The voltage function is defined as $v: V \to \RR, x \mapsto v(x):=p^x(\tau_{a,z}=\tau_a)$.
\end{defn}


\begin{lem}[Properties of the voltage function]
  Let $v: V \myxrightarrow[]{} \mathbb{R}, x \mapsto p^x(\tau_{a,z}=\tau_a)$ be the voltage function. Then, the following statements hold:
  \begin{itemize}
      \item \(v(a)=1\)
      \item \(v(z)=0\)
      \item For $x\neq a,z$, we have \(v(x) = \sum_{y\in V}^{} \mathbb{P}_x(X_1=y) v(y) = \sum_{y\in V}^{} \frac{c(x,y)}{\sum_{z\in V} c(x,z) }v(y) = \sum_{y\in V}^{} c(x,y) \frac{v(y)}{c(x)}\) (harmonicity)
  \end{itemize}
\end{lem}
\begin{proof}
    To show the harmonicity, we use the Markov property. Since \(x \neq a,z\), \(p^x(\tau_a\geq 1)=1\). The Markov property implies 
    \begin{align*}
      p^x(\tau_a \leq \tau_z) &= \mathbb{E}_x \left[ p^x(\tau_a < \tau_z)\right] \\
                              &= \sum_y p^x(X_1=y)\cdot p^y(\tau_a < \tau_z) \\
                              &= \sum_y p^x(X_1=y) \cdot v(y)
    \end{align*}    
\end{proof}

\begin{lem}[Uniqueness of voltage function]
    The voltage function $v$ is the only function satisfying the properties above.
\end{lem}
\begin{proof}
    Assume $v_1,v_2$ satisfy the properties of the voltage function. We show $h \equiv v_1-v_2=0$. 
    \begin{enumerate}
      \item By properties 1 and 2, $h(a)=h(z)=0$. 
      \item For $x\neq a,z$, we have \(h(x) = sum_y \frac{c(x,y)}{c(x)} h(y)\) ($h(x)$ is a weighted average over its neighbors). Assume $h(x) \neq 0$. We assume \OE $h(x) >0$. Let \(M=\max_{}\set*{h(x); x\in V}>0\). Let \(H= \set*{x; h(x)=M}\). Note that $a,z \notin H$. Let $x$ be an element of $H$ with a neighbor $w$ outside of  $H$. Then, the following are true
        \begin{enumerate}
            \item $x\in H$, thus $h(x)=M$.
            \item 
              \begin{align*}
                h(x)  &=\sum_y \frac{c(x,y)}{c(x)} h(y) \\
                     &=\frac{c(x,w)}{c(x)}h(w) + \sum_{y\neq w} \frac{c(x,y)}{c(x)}h(y) \\
                     &\leq h(w) \frac{c(x,w)}{c(x)} + M \sum_{y\neq w} \frac{c(x,y)}{c(x)} \\
                     & h(w) \frac{c(x,w)}{c(x)} + M \left(1-\frac{c(x,w)}{c(x)}\right) \\
                     &=M + \underbrace{ \left(h(w)-M\right)}_{<0}\cdot \underbrace{\frac{c(x,w)}{c(x)}}_{>0} < M
              \end{align*}
              
        \end{enumerate}
        This is a contradiction to $h \neq 0$.
    \end{enumerate}
\end{proof}

\begin{remark}
    The proof is similar to the proof of uniqueness of the solution to the Dirichlet problem.
\end{remark}

\begin{remark}
    In the theory of electrical networks, the (physical) voltage function satisfies the same three properties (up to normalization of the boundary conditions). Therefore, everything that is known about physical electrical networks has the potential of being useful in the understanding of random walks on networks.
\end{remark}




